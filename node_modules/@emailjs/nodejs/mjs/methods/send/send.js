import { store } from '../../store/store';
import { validateParams } from '../../utils/validate_params';
import { sendJSON } from '../../api/send_json';
/**
 * Send a template to the specific EmailJS service
 * @param {string} serviceID - the EmailJS service ID
 * @param {string} templateID - the EmailJS template ID
 * @param {object} templatePrams - the template params, what will be set to the EmailJS template
 * @param {string} publicKey - the EmailJS public key
 * @returns {Promise<string>}
 */
export const send = (serviceID, templateID, templatePrams, publicKey) => {
    const pubKey = publicKey || store._userID;
    validateParams(pubKey, serviceID, templateID);
    const params = {
        lib_version: '1.0.0',
        user_id: pubKey,
        service_id: serviceID,
        template_id: templateID,
        template_params: templatePrams,
    };
    return sendJSON(JSON.stringify(params));
};
